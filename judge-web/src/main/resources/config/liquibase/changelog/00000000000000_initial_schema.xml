<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="system" id="00000000000001">
        <createTable tableName="access_log">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="access_time" type="datetime"/>
            <column name="behaviour" type="VARCHAR(255)"/>
            <column name="handle" type="VARCHAR(255)"/>
            <column name="ip" type="VARCHAR(255)"/>
            <column name="url" type="VARCHAR(255)"/>
            <column name="userprofile" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000002">
        <createTable tableName="contest">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="begin_time" type="datetime"/>
            <column name="creation_date" type="datetime"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="disabled" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="finish_time" type="datetime"/>
            <column name="last_update_date" type="datetime"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="title" type="CLOB"/>
            <column name="type" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="creation_user" type="BIGINT"/>
            <column name="last_update_user" type="BIGINT"/>
            <column name="parent" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000003">
        <createTable tableName="contest_language">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="contest" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="language" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000004">
        <createTable tableName="contest_problem">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="contest_order" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="CLOB"/>
            <column name="contest" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="problem" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000005">
        <createTable tableName="contest_problem_statistics">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="accepted" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="solved" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="submit" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="submit_user" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="contest_problem" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000006">
        <createTable tableName="contest_userprofile_statistics">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="contest" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="userprofile" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000007">
        <createTable tableName="judge_reply">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="committed" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(128)"/>
            <column name="name" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="style" type="VARCHAR(32)"/>
            <column name="creation_user" type="BIGINT"/>
            <column name="last_update_user" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000008">
        <createTable tableName="language">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="compiler" type="VARCHAR(255)"/>
            <column name="creation_date" type="datetime"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="executable_extension" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="executor" type="VARCHAR(255)"/>
            <column name="language_extension" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(50)"/>
            <column name="creation_user" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000009">
        <createTable tableName="persistent_token">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="userprofile" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000010">
        <createTable tableName="problem">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="case_time_limit" type="BIGINT"/>
            <column name="creation_date" type="datetime"/>
            <column name="description" type="CLOB"/>
            <column name="hint" type="CLOB"/>
            <column name="input" type="CLOB"/>
            <column name="last_update_date" type="datetime"/>
            <column name="memory_limit" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="output" type="CLOB"/>
            <column name="output_limit" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="sample_input" type="CLOB"/>
            <column name="sample_output" type="CLOB"/>
            <column name="source" type="CLOB"/>
            <column name="time_limit" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="CLOB">
                <constraints nullable="false"/>
            </column>
            <column name="creation_user" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000011">
        <createTable tableName="role">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="description" type="CLOB"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000012">
        <createTable tableName="submission">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="code_len" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ip" type="VARCHAR(40)"/>
            <column name="judge_time" type="datetime"/>
            <column name="memory" type="BIGINT"/>
            <column name="submit_time" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="time" type="BIGINT"/>
            <column name="contest" type="BIGINT"/>
            <column name="judge_reply" type="BIGINT"/>
            <column name="language" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="problem" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="userprofile" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000013">
        <createTable tableName="submission_compile_info">
            <column name="compile_info" type="CLOB"/>
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000014">
        <createTable tableName="submission_judge_detail">
            <column name="detail" type="CLOB"/>
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000015">
        <createTable tableName="submission_source">
            <column name="source_code" type="CLOB"/>
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000016">
        <createTable tableName="upload">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="content" type="LONGBLOB"/>
            <column name="content_type" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="orign_name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000017">
        <createTable tableName="usergroup">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="description" type="CLOB">
                <constraints nullable="false"/>
            </column>
            <column name="group_order" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="owner" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000018">
        <createTable tableName="usergroup_userprofile">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="usergroup" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="userprofile" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000019">
        <createTable tableName="userprofile">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="birth_date" type="date"/>
            <column name="creation_date" type="datetime"/>
            <column name="disabled" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="handle" type="VARCHAR(255)"/>
            <column name="last_update_date" type="datetime"/>
            <column name="major" type="VARCHAR(255)"/>
            <column name="nickname" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="school" type="VARCHAR(255)"/>
            <column name="creation_user" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000020">
        <createTable tableName="userprofile_role">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="role" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="userprofile" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="system" id="00000000000021">
        <addPrimaryKey columnNames="id" tableName="submission_compile_info"/>
    </changeSet>
    <changeSet author="system" id="00000000000022">
        <addPrimaryKey columnNames="id" tableName="submission_judge_detail"/>
    </changeSet>
    <changeSet author="system" id="00000000000023">
        <addPrimaryKey columnNames="id" tableName="submission_source"/>
    </changeSet>
    <changeSet author="system" id="00000000000024">
        <addUniqueConstraint columnNames="contest, language" constraintName="UK_contest_language_contest_language" tableName="contest_language"/>
    </changeSet>
    <changeSet author="system" id="00000000000025">
        <addUniqueConstraint columnNames="name" constraintName="UK_contest_name" tableName="contest"/>
    </changeSet>
    <changeSet author="system" id="00000000000026">
        <addUniqueConstraint columnNames="contest, contest_order" constraintName="UK_contest_problem_contest_contest_order" tableName="contest_problem"/>
    </changeSet>
    <changeSet author="system" id="00000000000027">
        <addUniqueConstraint columnNames="contest, problem" constraintName="UK_contest_problem_contest_problem" tableName="contest_problem"/>
    </changeSet>
    <changeSet author="system" id="00000000000028">
        <addUniqueConstraint columnNames="contest_problem" constraintName="UK_contest_problem_statistics_contest_problem" tableName="contest_problem_statistics"/>
    </changeSet>
    <changeSet author="system" id="00000000000029">
        <addUniqueConstraint columnNames="contest, userprofile" constraintName="UK_contest_userprofile_statistics_contest_userprofile" tableName="contest_userprofile_statistics"/>
    </changeSet>
    <changeSet author="system" id="00000000000030">
        <addUniqueConstraint columnNames="name" constraintName="UK_role_name" tableName="role"/>
    </changeSet>
    <changeSet author="system" id="00000000000031">
        <addUniqueConstraint columnNames="owner, group_order" constraintName="UK_usergroup_owner_group_order" tableName="usergroup"/>
    </changeSet>
    <changeSet author="system" id="00000000000032">
        <addUniqueConstraint columnNames="email" constraintName="UK_userprofile_email" tableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000033">
        <addUniqueConstraint columnNames="handle" constraintName="UK_userprofile_handle" tableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000034">
        <addUniqueConstraint columnNames="userprofile, role" constraintName="UQ_userprofile_role" tableName="userprofile_role"/>
    </changeSet>
    <changeSet author="system" id="00000000000035">
        <createIndex indexName="FK_access_log_userprofile" tableName="access_log">
            <column name="userprofile"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000036">
        <createIndex indexName="FK_contest_creation_user" tableName="contest">
            <column name="creation_user"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000037">
        <createIndex indexName="FK_contest_language_language" tableName="contest_language">
            <column name="language"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000038">
        <createIndex indexName="FK_contest_last_update_user" tableName="contest">
            <column name="last_update_user"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000039">
        <createIndex indexName="FK_contest_parent" tableName="contest">
            <column name="parent"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000040">
        <createIndex indexName="FK_contest_problem_problem" tableName="contest_problem">
            <column name="problem"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000041">
        <createIndex indexName="FK_contest_userprofile_statistics_userprofile" tableName="contest_userprofile_statistics">
            <column name="userprofile"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000042">
        <createIndex indexName="FK_judge_reply_creation_user" tableName="judge_reply">
            <column name="creation_user"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000043">
        <createIndex indexName="FK_judge_reply_last_update_user" tableName="judge_reply">
            <column name="last_update_user"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000044">
        <createIndex indexName="FK_language_creation_user" tableName="language">
            <column name="creation_user"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000045">
        <createIndex indexName="FK_persistent_token_userprofile" tableName="persistent_token">
            <column name="userprofile"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000046">
        <createIndex indexName="FK_problem_creation_user" tableName="problem">
            <column name="creation_user"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000047">
        <createIndex indexName="FK_submission_contest" tableName="submission">
            <column name="contest"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000048">
        <createIndex indexName="FK_submission_judge_reply" tableName="submission">
            <column name="judge_reply"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000049">
        <createIndex indexName="FK_submission_language" tableName="submission">
            <column name="language"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000050">
        <createIndex indexName="FK_submission_problem" tableName="submission">
            <column name="problem"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000051">
        <createIndex indexName="FK_submission_userprofile" tableName="submission">
            <column name="userprofile"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000052">
        <createIndex indexName="FK_usergroup_userprofile_usergroup" tableName="usergroup_userprofile">
            <column name="usergroup"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000053">
        <createIndex indexName="FK_usergroup_userprofile_userprofile" tableName="usergroup_userprofile">
            <column name="userprofile"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000054">
        <createIndex indexName="FK_userprofile_creation_user" tableName="userprofile">
            <column name="creation_user"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000055">
        <createIndex indexName="FK_userprofile_role_role" tableName="userprofile_role">
            <column name="role"/>
        </createIndex>
    </changeSet>
    <changeSet author="system" id="00000000000056">
        <addForeignKeyConstraint baseColumnNames="userprofile" baseTableName="access_log" constraintName="FK_access_log_userprofile" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000057">
        <addForeignKeyConstraint baseColumnNames="creation_user" baseTableName="contest" constraintName="FK_contest_creation_user" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000058">
        <addForeignKeyConstraint baseColumnNames="contest" baseTableName="contest_language" constraintName="FK_contest_language_contest" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="contest"/>
    </changeSet>
    <changeSet author="system" id="00000000000059">
        <addForeignKeyConstraint baseColumnNames="language" baseTableName="contest_language" constraintName="FK_contest_language_language" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="language"/>
    </changeSet>
    <changeSet author="system" id="00000000000060">
        <addForeignKeyConstraint baseColumnNames="last_update_user" baseTableName="contest" constraintName="FK_contest_last_update_user" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000061">
        <addForeignKeyConstraint baseColumnNames="parent" baseTableName="contest" constraintName="FK_contest_parent" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="contest"/>
    </changeSet>
    <changeSet author="system" id="00000000000062">
        <addForeignKeyConstraint baseColumnNames="contest" baseTableName="contest_problem" constraintName="FK_contest_problem_contest" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="contest"/>
    </changeSet>
    <changeSet author="system" id="00000000000063">
        <addForeignKeyConstraint baseColumnNames="problem" baseTableName="contest_problem" constraintName="FK_contest_problem_problem" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="problem"/>
    </changeSet>
    <changeSet author="system" id="00000000000064">
        <addForeignKeyConstraint baseColumnNames="contest_problem" baseTableName="contest_problem_statistics" constraintName="FK_contest_problem_statistics_contest_problem" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="contest_problem"/>
    </changeSet>
    <changeSet author="system" id="00000000000065">
        <addForeignKeyConstraint baseColumnNames="contest" baseTableName="contest_userprofile_statistics" constraintName="FK_contest_userprofile_statistics_contest" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="contest"/>
    </changeSet>
    <changeSet author="system" id="00000000000066">
        <addForeignKeyConstraint baseColumnNames="userprofile" baseTableName="contest_userprofile_statistics" constraintName="FK_contest_userprofile_statistics_userprofile" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000067">
        <addForeignKeyConstraint baseColumnNames="creation_user" baseTableName="judge_reply" constraintName="FK_judge_reply_creation_user" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000068">
        <addForeignKeyConstraint baseColumnNames="last_update_user" baseTableName="judge_reply" constraintName="FK_judge_reply_last_update_user" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000069">
        <addForeignKeyConstraint baseColumnNames="creation_user" baseTableName="language" constraintName="FK_language_creation_user" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000070">
        <addForeignKeyConstraint baseColumnNames="userprofile" baseTableName="persistent_token" constraintName="FK_persistent_token_userprofile" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000071">
        <addForeignKeyConstraint baseColumnNames="creation_user" baseTableName="problem" constraintName="FK_problem_creation_user" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000072">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="submission_compile_info" constraintName="FK_submission_compile_info_submission" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="submission"/>
    </changeSet>
    <changeSet author="system" id="00000000000073">
        <addForeignKeyConstraint baseColumnNames="contest" baseTableName="submission" constraintName="FK_submission_contest" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="contest"/>
    </changeSet>
    <changeSet author="system" id="00000000000074">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="submission_judge_detail" constraintName="FK_submission_judge_detail_submission" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="submission"/>
    </changeSet>
    <changeSet author="system" id="00000000000075">
        <addForeignKeyConstraint baseColumnNames="judge_reply" baseTableName="submission" constraintName="FK_submission_judge_reply" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="judge_reply"/>
    </changeSet>
    <changeSet author="system" id="00000000000076">
        <addForeignKeyConstraint baseColumnNames="language" baseTableName="submission" constraintName="FK_submission_language" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="language"/>
    </changeSet>
    <changeSet author="system" id="00000000000077">
        <addForeignKeyConstraint baseColumnNames="problem" baseTableName="submission" constraintName="FK_submission_problem" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="problem"/>
    </changeSet>
    <changeSet author="system" id="00000000000078">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="submission_source" constraintName="FK_submission_source_submission" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="submission"/>
    </changeSet>
    <changeSet author="system" id="00000000000079">
        <addForeignKeyConstraint baseColumnNames="userprofile" baseTableName="submission" constraintName="FK_submission_userprofile" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000080">
        <addForeignKeyConstraint baseColumnNames="owner" baseTableName="usergroup" constraintName="FK_usergroup_owner" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000081">
        <addForeignKeyConstraint baseColumnNames="usergroup" baseTableName="usergroup_userprofile" constraintName="FK_usergroup_userprofile_usergroup" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="usergroup"/>
    </changeSet>
    <changeSet author="system" id="00000000000082">
        <addForeignKeyConstraint baseColumnNames="userprofile" baseTableName="usergroup_userprofile" constraintName="FK_usergroup_userprofile_userprofile" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000083">
        <addForeignKeyConstraint baseColumnNames="creation_user" baseTableName="userprofile" constraintName="FK_userprofile_creation_user" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
    <changeSet author="system" id="00000000000084">
        <addForeignKeyConstraint baseColumnNames="role" baseTableName="userprofile_role" constraintName="FK_userprofile_role_role" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="role"/>
    </changeSet>
    <changeSet author="system" id="00000000000085">
        <addForeignKeyConstraint baseColumnNames="userprofile" baseTableName="userprofile_role" constraintName="FK_userprofile_role_userprofile" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="CASCADE" referencedColumnNames="id" referencedTableName="userprofile"/>
    </changeSet>
</databaseChangeLog>
