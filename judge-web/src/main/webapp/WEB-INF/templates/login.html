<!DOCTYPE html>
<!--
Copyright 2015 zhanhb.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <!--/*--><meta charset="UTF-8"/><!--*/-->
        <link th:replace="layouts/default :: metadata" href="layouts/default.html" rel=""/>
        <title th:text="#{Login}"></title>
        <link th:replace="layouts/default :: scripts" href="layouts/default.html" rel=""/>
        <!--/*-->
        <link href="../../static/bootstrap/css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
        <link href="../../static/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <!--*/-->
    </head>
    <body>
        <div class="container">
            <div class="row" style="margin-top:60px;">
                <div class="col-md-4 col-md-offset-4">
                    <form method="POST" th:action="@{/login}" accept-charset="UTF-8" role="form" id="loginform" class="form-signin th-form-signin">
                        <fieldset>
                            <h3 class="sign-up-title" style="color:dimgray; text-align: center">Welcome back! Please sign in</h3>

                            <div class="alert bs-callout bs-callout-danger alert-dismissible" role="alert" th:if="${param.error}">
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h5 th:text="${session.SPRING_SECURITY_LAST_EXCEPTION == null} ? #{unknown_error} : ${session.SPRING_SECURITY_LAST_EXCEPTION.message}">E-mail or password was incorrect, please try again</h5>
                            </div>
                            <div class="alert bs-callout bs-callout-danger alert-dismissible" role="alert" th:if="${param.logout}" th:text="prompt_logout">
                                You have been logged out.
                            </div>

                            <hr class="colorgraph"/>
                            <input class="form-control email-title" placeholder="Username or E-mail" name="login" type="text" autofocus="autofocus" th:placeholder="#{login.handle.placeholder}"/>
                            <input class="form-control" placeholder="Password" name="password" type="password" th:placeholder="#{login.password.placeholder}"/>
                            <a class="pull-right" th:href="@{/password}" th:text="#{login.forget.password}">Forgot password?</a>
                            <div class="checkbox" style="width:140px;">
                                <label><input name="remember" type="checkbox" value="Remember Me"/> <th:block th:text="#{login.rememberme}">Remember Me</th:block></label>
                            </div>
                            <input class="btn btn-lg btn-success btn-block" type="submit" value="Login" th:value="#{login.action}"/>
                            <!--/*--><p class="text-center" style="margin-top:10px;">OR</p>
                            <a class="btn btn-default btn-block" th:href="@{/login/github}"><i class="icon-github"></i> Login with Github</a>
                            <br/><!--*/-->
                            <p class="text-center"><a th:href="@{/register}" th:text="#{login.register}">Register for an account?</a></p>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
        <div th:replace="fragments/footer :: footer"></div>
    </body>
</html>
